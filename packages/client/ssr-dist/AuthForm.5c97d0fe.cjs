"use strict";const u=require("./ssr.ce1b3cd0.cjs"),T=require("./Input.2441fc34.cjs"),a=require("./Validate.d56822c5.cjs");const F=({authType:s})=>{const n=u.useNavigate(),o=u.useControllers(),[d,l]=u.reactExports.useState(null),m=u.reactExports.useCallback(e=>document.querySelector('input.baseInput.baseInput--error[name="password"]').value===e,[]),p=u.reactExports.useCallback(async e=>{e.preventDefault();const i=new FormData(e.target),r={};i.forEach((t,c)=>{r[c]=t.toString()}),await o.auth.signin({values:r,onSuccess:()=>{l(null),n(u.ROUTES.Home.path)},onError:t=>{l(t.message)}})},[o.auth,n]),x=u.reactExports.useCallback(async e=>{e.preventDefault();const i=new FormData(e.target),r={};i.forEach((t,c)=>{r[c]=t.toString()}),await o.auth.signup({values:r,onSuccess:()=>{l(null),n(u.ROUTES.Home.path)},onError:t=>{l(t.message)}})},[o.auth,n]),E=s==="signin"?"\u0410\u0432\u0442\u043E\u0440\u0438\u0437\u0430\u0446\u0438\u044F":"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044F",g=[{name:"login",labelText:"\u041B\u043E\u0433\u0438\u043D",errorText:"\u041A\u0430\u0436\u0435\u0442\u0441\u044F, \u0432\u044B \u043D\u0435\u0432\u0435\u0440\u043D\u043E \u0432\u0432\u0435\u043B\u0438 \u043B\u043E\u0433\u0438\u043D :(",validator:a.validate.login},{name:"password",type:"password",labelText:"\u041F\u0430\u0440\u043E\u043B\u044C"}],h=[{children:"\u0412\u043E\u0439\u0442\u0438",id:u.reactExports.useId()},{children:"\u0415\u0449\u0435 \u043D\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043E\u0432\u0430\u043D\u044B?",id:u.reactExports.useId(),to:u.ROUTES.SignUp.path,view:"subButton"}],v=[{name:"email",labelText:"\u041F\u043E\u0447\u0442\u0430",errorText:a.validate.errorMessages.email,validator:a.validate.email},{name:"login",labelText:"\u041B\u043E\u0433\u0438\u043D",errorText:a.validate.errorMessages.login,validator:a.validate.login},{name:"first_name",labelText:"\u0418\u043C\u044F",errorText:a.validate.errorMessages.name,validator:a.validate.name},{name:"second_name",labelText:"\u0424\u0430\u043C\u0438\u043B\u0438\u044F",errorText:a.validate.errorMessages.name,validator:a.validate.name},{name:"phone",labelText:"\u0422\u0435\u043B\u0435\u0444\u043E\u043D",errorText:a.validate.errorMessages.phone,validator:a.validate.phone},{name:"password",type:"password",labelText:"\u041F\u0430\u0440\u043E\u043B\u044C",errorText:a.validate.errorMessages.password,validator:a.validate.password},{name:"password_confirm",type:"password",labelText:"\u0415\u0449\u0435 \u0440\u0430\u0437 \u043F\u0430\u0440\u043E\u043B\u044C",errorText:"\u041F\u0430\u0440\u043E\u043B\u0438 \u043D\u0435 \u0441\u043E\u0432\u043F\u0430\u0434\u0430\u044E\u0442",validator:m}],b=[{children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043E\u0432\u0430\u0442\u044C\u0441\u044F",id:u.reactExports.useId()},{children:"\u0423\u0436\u0435 \u0435\u0441\u0442\u044C \u0430\u043A\u043A\u0430\u0443\u043D\u0442?",id:u.reactExports.useId(),to:u.ROUTES.SignIn.path,view:"subButton"}],B=s==="signin"?g:v,w=s==="signin"?h:b,S=s==="signin"?p:x;return u.jsx("div",{className:"authBoxWrapper",children:u.jsxs("form",{className:"authBox",onSubmit:S,children:[u.jsx("h1",{className:"authBoxHeader",children:E}),B.map(e=>u.jsx(T.Input,{...e},e.name)),d&&u.jsx("div",{className:"authBoxError",children:d}),w.map(e=>u.jsx(u.Button,{...e},e.id))]})})};exports.AuthForm=F;
