"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const e=require("./ssr.ce1b3cd0.cjs"),j=require("./Component.d4b76723.cjs"),f=require("./Icon.f719b880.cjs"),D=require("./Input.2441fc34.cjs"),M="_table_ijf1g_13",I="_tbody_ijf1g_14",L="_thead_ijf1g_20",U="_theadSticky_ijf1g_25",F="_tr_ijf1g_31",R="_th_ijf1g_20",w="_td_ijf1g_38",O="_alignCenter_ijf1g_81",A="_alignRight_ijf1g_85",B="_details_ijf1g_89",P="_playerInfo_ijf1g_98",Z="_playerScore_ijf1g_105",p={table:M,tbody:I,thead:L,theadSticky:U,tr:F,th:R,td:w,alignCenter:O,alignRight:A,details:B,playerInfo:P,playerScore:Z},q=t=>t==="center"?p.alignCenter:t==="right"?p.alignRight:"",k=({isHeaderCell:t=!1,width:s,align:r="left",children:o})=>{const a={className:e.cn(t?p.th:p.td,q(r)),style:{minWidth:s||"auto",maxWidth:s||"auto"}};return e.jsx("div",{...a,children:o})},W=({index:t,columns:s,row:r,onClick:o})=>{const a=e.reactExports.useCallback(()=>{o==null||o(r,t)},[t]);return e.jsx("div",{className:p.tr,onClick:a,children:s.map(u=>{const{field:c,formatter:n,...l}=u,d=r[c];return e.jsx(k,{...l,children:n?n(d,r):d},c)})})},H=e.reactExports.memo(({columns:t,rows:s,stickyHead:r,onRowClick:o,className:a})=>e.jsxs("div",{className:e.cn(p.table,a),children:[e.jsx("div",{className:e.cn(p.thead,{[p.theadSticky]:r}),children:e.jsx("div",{className:p.tr,children:t.map(({field:u,headerName:c,...n})=>e.jsx(k,{isHeaderCell:!0,...n,children:c},u))})}),e.jsx("div",{className:p.tbody,children:s.map((u,c)=>e.jsx(W,{index:c,columns:t,row:u,onClick:o},c))})]})),C=t=>t.toString().padStart(2,"0"),V=t=>[C(t.getUTCHours()),C(t.getUTCMinutes())].join(":"),$=t=>[C(t.getDate()),C(t.getMonth()+1),t.getFullYear()].join("."),G=(t,s="ru-RU")=>{const r=t.toLocaleDateString(s,{weekday:"short"});return r.charAt(0).toUpperCase()+r.slice(1)},v=t=>{const s=new Date(t),r=new Date;return r.getUTCFullYear()-s.getUTCFullYear()===0&&r.getUTCMonth()-s.getUTCMonth()===0&&r.getUTCDate()-s.getUTCDate()<=6?r.getUTCDate()-s.getUTCDate()<1?V(s):r.getUTCDate()-s.getUTCDate()===1?"\u0412\u0447\u0435\u0440\u0430":r.getUTCDate()-s.getUTCDate()===2?"\u041F\u043E\u0437\u0430\u0432\u0447\u0435\u0440\u0430":G(s):$(s)},Y=t=>e.reactExports.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},e.reactExports.createElement("path",{d:"M21 11.5C21.0034 12.8199 20.6951 14.1219 20.1 15.3C19.3944 16.7118 18.3098 17.8992 16.9674 18.7293C15.6251 19.5594 14.0782 19.9994 12.5 20C11.1801 20.0035 9.87812 19.6951 8.7 19.1L3 21L4.9 15.3C4.30493 14.1219 3.99656 12.8199 4 11.5C4.00061 9.92179 4.44061 8.37488 5.27072 7.03258C6.10083 5.69028 7.28825 4.6056 8.7 3.90003C9.87812 3.30496 11.1801 2.99659 12.5 3.00003H13C15.0843 3.11502 17.053 3.99479 18.5291 5.47089C20.0052 6.94699 20.885 8.91568 21 11V11.5Z",stroke:"black",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),z=e.reactExports.createContext(null);function E(t){return{values:{...t},validators:{},errors:{}}}const b=(t,s)=>Object.keys(t).reduce((r,o)=>({...r,[o]:s}),{...t}),J=({onClearHandlesChange:t,onFormStateChange:s})=>e.reactExports.useCallback(({name:o,validators:a,value:u,onClearForm:c})=>(t(n=>[...n,c]),s(n=>({...n,validators:{...n.validators,[o]:a||[]},errors:{...n.errors,[o]:null},values:{...n.values,[o]:u}})),()=>{t(n=>n.filter(l=>l!==c)),s(n=>{const{values:l,errors:_,validators:d}=n;return delete l[o],delete _[o],delete d[o],{values:l,errors:_,validators:d}})}),[t,s]),T=t=>t?Array.isArray(t)?!t.length:typeof t=="object"?!Object.keys(t).length:!1:!0,K=({formState:t,onFormStateChange:s})=>e.reactExports.useCallback(()=>{const{validators:o}=t;if(s({...t,errors:{}}),T(o))return!0;const a=Object.entries(o).reduce((u,[c,n])=>{const{values:l}=t,_=n.reduce((d,m)=>{const g=l[c],x=m(g,l);return[...d,x]},[]);return _[0]&&(u[c]=_[0]),u},{});return T(a)?!0:(s({...t,errors:a}),!1)},[t,s]);function Q({onSubmit:t,onReset:s,initialValues:r={},...o}){const[a,u]=e.reactExports.useState(E(r)),[c,n]=e.reactExports.useState([]),l=J({onClearHandlesChange:n,onFormStateChange:u}),_=K({formState:a,onFormStateChange:u}),d=e.reactExports.useCallback(h=>{h.preventDefault(),u(E(r)),s&&s()},[]),m=e.reactExports.useCallback((h,N)=>{u({...a,values:{...a.values,[h]:N}})},[a]),g=e.reactExports.useCallback(()=>{u({...a,values:b(a.values,""),errors:b(a.errors,"")}),c.forEach(h=>h())},[c,a]),x=e.reactExports.useMemo(()=>({...a,registerField:l,setFieldValue:m,cleanForm:g}),[a,l,m,g]),S=e.reactExports.useCallback(h=>{h.preventDefault(),_()&&t({values:{...a.values},cleanForm:g})},[a.values,t,_,g]);return e.jsx(z.Provider,{value:x,children:e.jsx("form",{...o,onReset:d,onSubmit:S})})}const X="_dialog_1agdg_13",ee={dialog:X},te="_textarea_1eq51_13",se="_error_1eq51_24",y={textarea:te,error:se},re=({className:t,errorText:s,labelText:r,placeholder:o,name:a,onChange:u,validator:c,...n})=>{const[l,_]=e.reactExports.useState(null),d=r?e.reactExports.useId():void 0,m=e.cn(y.textarea,{[y.error]:l},t),g=()=>{console.log("Blur")},x=()=>{console.log("Change")};return e.jsx(D.InputControl,{labelId:d,labelText:r,error:l,children:e.jsx("textarea",{id:d,name:a,onBlur:g,onChange:x,className:m,placeholder:o,...n})})},ae=({isOpen:t,onSubmit:s,onOpenChange:r})=>{const[o,a]=e.reactExports.useState(!1),u=e.reactExports.useCallback(async c=>{a(!0),await s(c),a(!1)},[s]);return e.jsx(f.Dialog,{title:"\u041D\u043E\u0432\u044B\u0439 \u043F\u043E\u0441\u0442",isOpen:t,onOpenChange:r,contentClass:ee.dialog,children:e.jsxs(Q,{onSubmit:u,children:[e.jsx(D.Input,{labelText:"\u0422\u0435\u043C\u0430",name:"post_name"},"post_name"),e.jsx(re,{labelText:"\u0421\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u0435",name:"message"},"message"),e.jsx(e.Button,{type:"submit",loading:o,disabled:o,children:"\u0421\u043E\u0437\u0434\u0430\u0442\u044C"})]})})},oe="_container_1roh7_13",ne="_header_1roh7_17",ue="_title_1roh7_23",ce="_subTitle_1roh7_31",le="_postMainInfo_1roh7_39",ie="_postLatestInfo_1roh7_40",de="_postMessages_1roh7_54",_e="_postTitle_1roh7_62",pe="_postMinor_1roh7_67",ge="_postMessageCount_1roh7_74",he="_postAuthor_1roh7_79",me="_postStartDate_1roh7_80",xe="_postLatestDate_1roh7_89",Ce="_postLatestUser_1roh7_90",i={container:oe,header:ne,title:ue,subTitle:ce,postMainInfo:le,postLatestInfo:ie,postMessages:de,postTitle:_e,postMinor:pe,postMessageCount:ge,postAuthor:he,postStartDate:me,postLatestDate:xe,postLatestUser:Ce},je=[{author:"Wrexis",post_name:"Star Trek Resurgence |OT| Riker will remember that.",message_count:301,create_date:"2020-01-02T14:22:22.000Z",upload_date:"2020-01-02T14:22:22.000Z",last_message:{user:{login:"Salient_Lion"}}},{author:"Wrexis",post_name:"Star Trek Resurgence |OT| Riker will remember that.",message_count:301,create_date:"2020-01-02T14:22:22.000Z",upload_date:"2020-01-02T14:22:22.000Z",last_message:{user:{login:"Salient_Lion"}}},{author:"Wrexis",post_name:"Star Trek Resurgence |OT| Riker will remember that.",message_count:301,create_date:"2020-01-02T14:22:22.000Z",upload_date:"2020-01-02T14:22:22.000Z",last_message:{user:{login:"Salient_Lion"}}},{author:"Wrexis",post_name:"Star Trek Resurgence |OT| Riker will remember that.",message_count:301,create_date:"2020-01-02T14:22:22.000Z",upload_date:"2020-01-02T14:22:22.000Z",last_message:{user:{login:"Salient_Lion"}}}],fe=e.reactExports.memo(()=>{const{isOpen:t,close:s,open:r,setState:o}=f.useDialog(),a=e.reactExports.useCallback(()=>{s()},[s]),u=e.reactExports.useCallback(()=>{alert("\u041F\u0440\u0438\u0432\u0435\u0442! \u042F \u0441\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u0435. \u0421\u043A\u043E\u0440\u043E \u044F \u043D\u0430\u0447\u043D\u0443 \u0440\u0430\u0431\u043E\u0442\u0430\u0442\u044C.")},[]),c=e.reactExports.useMemo(()=>[{field:"post_name",headerName:"\u0417\u0430\u0433\u043E\u043B\u043E\u0432\u043E\u043A",formatter:(n,l)=>e.jsxs("div",{className:i.postMainInfo,children:[e.jsx("div",{className:i.postTitle,children:n}),e.jsxs("div",{className:i.postMinor,children:[e.jsx("div",{className:i.postAuthor,children:l.author}),e.jsx("div",{className:i.postStartDate,children:v(l.create_date)})]})]})},{field:"message_count",headerName:"\u041A\u043E\u043B-\u0432\u043E \u0441\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u0439",width:"15%",formatter:n=>e.jsxs("div",{className:i.postMessages,children:[e.jsx(f.Icon,{icon:e.jsx(Y,{}),size:18}),e.jsx("div",{className:i.postMessageCount,children:n})]})},{field:"upload_date",headerName:"\u041F\u043E\u0441\u043B\u0435\u0434\u043D\u0435\u0435 \u0441\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u0435",align:"right",width:"30%",formatter:(n,l)=>e.jsxs("div",{className:i.postLatestInfo,children:[e.jsx("div",{className:i.postLatestDate,children:v(n)}),e.jsx("div",{className:i.postLatestUser,children:l.last_message.user.login})]})}],[]);return e.jsxs(e.Fragment,{children:[e.jsx(ae,{isOpen:t,onSubmit:a,onOpenChange:o}),e.jsx(j.Grid.Container,{width:"full",className:i.container,children:e.jsx(j.Grid.Row,{justify:"center",children:e.jsxs(j.Grid.Col,{width:9,children:[e.jsxs("div",{className:i.header,children:[e.jsx("h1",{className:i.title,children:"\u0424\u043E\u0440\u0443\u043C"}),e.jsx("div",{className:i.actions,children:e.jsx(e.Button,{children:"\u0421\u043E\u0437\u0434\u0430\u0442\u044C \u0442\u043E\u043F\u0438\u043A",onClick:r})})]}),e.jsx(H,{columns:c,rows:je,stickyHead:!0,onRowClick:u})]})})})]})}),ve="_page_wah8q_13",Ee={page:ve},be=()=>(document.title="Forum",e.jsx("div",{className:Ee.page,children:e.jsx(fe,{})}));exports.default=be;
